{"ast":null,"code":"var _jsxFileName = \"C:\\\\newCone\\\\frontend\\\\src\\\\Component\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { loginOrSign } from '../../redux/account';\nimport { showSign } from '../../redux/account';\nimport '../Account/Account.css';\nimport '../../cssHelper/helper.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  // State for login data and error messages\n  const [loginData, setLoginData] = useState({\n    email: '',\n    password: ''\n  });\n  const [emailError, setEmailError] = useState({\n    required: false,\n    format: false\n  });\n  const [passwordError, setPasswordError] = useState({\n    required: false,\n    minLength: false\n  });\n\n  // Function to handle input changes and validate\n  const addLogin = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setLoginData({\n      ...loginData,\n      [name]: value\n    });\n\n    // Validate email\n    if (name === 'email') {\n      if (value.trim() === '') {\n        setEmailError({\n          required: true,\n          format: false\n        });\n      } else if (!/\\S+@\\S+\\.\\S+/.test(value)) {\n        setEmailError({\n          required: false,\n          format: true\n        });\n      } else {\n        setEmailError({\n          required: false,\n          format: false\n        });\n      }\n    }\n\n    // Validate password\n    if (name === 'password') {\n      if (value.length === 0) {\n        setPasswordError({\n          required: true,\n          minLength: false\n        });\n      } else if (value.length < 8) {\n        setPasswordError({\n          required: false,\n          minLength: true\n        });\n      } else {\n        setPasswordError({\n          required: false,\n          minLength: false\n        });\n      }\n    }\n  };\n\n  // Function to perform login\n  const loginIn = async () => {\n    // Check if there are any validation errors\n    if (emailError.required || emailError.format || passwordError.required || passwordError.minLength) {\n      return; // If there are errors, do not proceed with login\n    }\n    try {\n      const response = await fetch('http://localhost:4000/login', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(loginData)\n      });\n      const responseData = await response.json();\n      console.log(responseData);\n      if (responseData.success) {\n        localStorage.setItem('auth-token', responseData.token);\n        window.location.replace('/');\n      } else {\n        alert(responseData.error);\n      }\n    } catch (err) {\n      alert('Error:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-wrapper account-wrapper radius flex flex-column a-center j-center gap pad shadow black-clr white-bg w-full\",\n    children: \"div\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"bcYJEqvC4zHpBFsZkWrxgZRpQTI=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useDispatch","useNavigate","loginOrSign","showSign","jsxDEV","_jsxDEV","Login","_s","navigate","dispatch","loginData","setLoginData","email","password","emailError","setEmailError","required","format","passwordError","setPasswordError","minLength","addLogin","e","name","value","target","trim","test","length","loginIn","response","fetch","method","headers","Accept","body","JSON","stringify","responseData","json","console","log","success","localStorage","setItem","token","window","location","replace","alert","error","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/newCone/frontend/src/Component/Login/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { loginOrSign } from '../../redux/account';\r\nimport { showSign } from '../../redux/account';\r\nimport '../Account/Account.css';\r\nimport '../../cssHelper/helper.css';\r\n\r\nfunction Login() {\r\n    const navigate = useNavigate();\r\n    const dispatch = useDispatch();\r\n\r\n    // State for login data and error messages\r\n    const [loginData, setLoginData] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n\r\n    const [emailError, setEmailError] = useState({\r\n        required: false,\r\n        format: false\r\n    });\r\n\r\n    const [passwordError, setPasswordError] = useState({\r\n        required: false,\r\n        minLength: false\r\n    });\r\n\r\n    // Function to handle input changes and validate\r\n    const addLogin = (e) => {\r\n        const { name, value } = e.target;\r\n        setLoginData({\r\n            ...loginData,\r\n            [name]: value\r\n        });\r\n\r\n        // Validate email\r\n        if (name === 'email') {\r\n            if (value.trim() === '') {\r\n                setEmailError({\r\n                    required: true,\r\n                    format: false\r\n                });\r\n            } else if (!/\\S+@\\S+\\.\\S+/.test(value)) {\r\n                setEmailError({\r\n                    required: false,\r\n                    format: true\r\n                });\r\n            } else {\r\n                setEmailError({\r\n                    required: false,\r\n                    format: false\r\n                });\r\n            }\r\n        }\r\n\r\n        // Validate password\r\n        if (name === 'password') {\r\n            if (value.length === 0) {\r\n                setPasswordError({\r\n                    required: true,\r\n                    minLength: false\r\n                });\r\n            } else if (value.length < 8) {\r\n                setPasswordError({\r\n                    required: false,\r\n                    minLength: true\r\n                });\r\n            } else {\r\n                setPasswordError({\r\n                    required: false,\r\n                    minLength: false\r\n                });\r\n            }\r\n        }\r\n    };\r\n\r\n    // Function to perform login\r\n    const loginIn = async () => {\r\n        // Check if there are any validation errors\r\n        if (emailError.required || emailError.format || passwordError.required || passwordError.minLength) {\r\n            return; // If there are errors, do not proceed with login\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:4000/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    Accept: 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify(loginData)\r\n            });\r\n\r\n            const responseData = await response.json();\r\n            console.log(responseData);\r\n\r\n            if (responseData.success) {\r\n                localStorage.setItem('auth-token', responseData.token);\r\n                window.location.replace('/');\r\n            } else {\r\n                alert(responseData.error);\r\n            }\r\n        } catch (err) {\r\n            alert('Error:', err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-wrapper account-wrapper radius flex flex-column a-center j-center gap pad shadow black-clr white-bg w-full\">\r\n            div\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}